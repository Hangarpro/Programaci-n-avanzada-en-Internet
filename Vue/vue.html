<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Vue.js</title>
    <script src="https://unpkg.com/vue@3"></script>
  </head>
  <body>
    <div id="app">
      {{users}}
      <form class="" action="index.html" method="post">
        <fieldset>
          <legend>Acceso al panel</legend>
          <label for="">Correo electronico</label>
          <input type="email" name="" value="">
          <label for="">Password</label>
          <input type="password" name="" value="">
          <button type="button" name="button" @click='login'>Acceder</button>
        </fieldset>
      </form>
    </div>
    <script type="text/javascript">
  const { createApp } = Vue;
  const vapp = createApp({
    data() {
      return {
        users: '',
        email: '',
        password: '',
      }
    },

    methods: {
      login(e) {
        e.preventDefault();
        var email_user = this.email;
        var password_user = this.password;
        var access = this.users.map(function (u) {
          if (email_user === u.email.toLowerCase()) {
            if (password_user === u.password){
              alert("Acceso correcto");
            }
          }
        })
        alert("Acceso incorrecto");
      },
      mounted() {
        fetch("users.json")
          .then((res) => res.json())
          .then((json) => (this.users = json))
          .catch((err) => (console.log(err)))
      },
    }
  }).mount('#app')
    </script>
  </body>
</html>
